<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from src/site/markdown/testing.md at 2023-12-14
 | Rendered using Apache Maven Fluido Skin 1.12.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Orne Test Generators &#x2013; Random values generation for testing purposes</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.12.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.12.0.min.js"></script>
<script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.esm.min.mjs';
      mermaid.init({ startOnLoad: true });
      document.querySelectorAll('.language-mermaid').forEach(s => s.parentElement.classList.remove("prettyprint"));
      await mermaid.run({
        querySelector: '.language-mermaid',
        suppressErrors: true,
      });
    </script>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/orne-dev/java-beans" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>Orne Test Generators</h1>
</div>
</div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-12-14<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 0.2.0</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li class="active"><a><span class="none"></span>Test values generation</a></li>
    <li><a href="generators.html" title="Provide new generators"><span class="none"></span>Provide new generators</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<h1>Random values generation for testing purposes</h1><section>
<h2><a name="Random_values_generation"></a>Random values generation</h2>
<p>The most basic value generation requires only passing the value type to the
<code>Generators.randomValue()</code> method:</p>

<div class="source"><pre class="prettyprint"><code class="language-java">String value = Generators.randomValue(String.class);
assertNotNull(value);
</code></pre></div>
<p>If null values are acceptable call <code>Generators.nullableRandomValue()</code> method:</p>

<div class="source"><pre class="prettyprint"><code class="language-java">String value = Generators.nullableRandomValue(String.class);
// The generated value can be null or a random value
</code></pre></div><section>
<h3><a name="Parameterized_values_generation"></a>Parameterized values generation</h3>
<p>Generators can support optional generation parameters implementing the
<code>dev.orne.test.rnd.params.ParameterizableGenerator</code> interface.
This allows fine-tuning the generated values:</p>

<div class="source"><pre class="prettyprint"><code class="language-java">String value = Generators.randomValue(
    String.class,
    GenerationParameters.forNullables().withNullable(false),
    GenerationParameters.forSizes().withMinSize(10));
</code></pre></div>
<p>Current built-in generation parameters:</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th>Type</th>
<th>Supported parameters types</th>
<th>Required parameters types</th></tr>
</thead><tbody>

<tr class="b">
<td align="left">java.lang.CharSequence</td>
<td>Nullable, Size</td>
<td> </td></tr>
<tr class="a">
<td align="left">java.lang.String</td>
<td>Nullable, Size</td>
<td> </td></tr>
<tr class="b">
<td align="left">java.lang.Collection</td>
<td>Nullable, Size</td>
<td>SimpleGenerics</td></tr>
<tr class="a">
<td align="left">java.lang.List</td>
<td>Nullable, Size</td>
<td>SimpleGenerics</td></tr>
<tr class="b">
<td align="left">java.lang.Set</td>
<td>Nullable, Size</td>
<td>SimpleGenerics</td></tr>
<tr class="a">
<td align="left">java.lang.Map</td>
<td>Nullable, Size</td>
<td>KeyValueGenerics</td></tr>
</tbody>
</table>
<p>Collections generation requires, at least, the generic types parameters to
success:</p>

<div class="source"><pre class="prettyprint"><code class="language-java">List&lt;String&gt; list = Generators.randomValue(
    List.class,
    GenerationParameters.forSimpleGenerics().withElementsType(String.class));
Map&lt;String, Locale&gt; map = Generators.randomValue(
    Map.class,
    GenerationParameters.forKeyValueGenerics()
        .withKeysType(String.class)
        .withValuesType(Locale.class),
    GenerationParameters.forSizes().withMaxSize(5));
Map&lt;String, Map&lt;Integer, String&gt;&gt; nestedMap = Generators.randomValue(
    Map.class,
    GenerationParameters.forKeyValueGenerics()
        .withKeysType(String.class)
        .withValuesType(TypeUtils.parameterize(Map.class, Integer.class, String.class)),
    GenerationParameters.forSizes().withMaxSize(5));
</code></pre></div></section><section>
<h3><a name="Targeted_value_generation"></a>Targeted value generation</h3>
<p>Targeted generators are generator instances that generate values for a target
usage. Generators targeting bean properties, constructor parameters, method
parameters and method return types are supported.</p>
<p>When a targeted generator generates values of a type whose registered generator
is a parameterizable generator uses the runtime information of the target to
populate the generation parameters. Currently the runtime <code>ParameterizedType</code>
of the target and following validation constraints are supported:</p>
<ul>

<li><code>javax.validation.constraints.NotNull</code></li>
<li><code>javax.validation.constraints.Size</code></li>
<li><code>javax.validation.constraints.Min</code></li>
<li><code>javax.validation.constraints.Max</code></li>
<li><code>javax.validation.constraints.PositiveOrZero</code></li>
<li><code>javax.validation.constraints.Positive</code></li>
</ul>
<p>Examples:</p>

<div class="source"><pre class="prettyprint"><code class="language-java">// Property
TargetedGenerator&lt;String&gt; generator = Generators.forProperty(
        TestType.class,
        &quot;name&quot;)
String value = generator.randomValue(MyValidationGroup.class);
// Constructor parameter
TargetedGenerator&lt;String&gt; generator = Generators.forParameter(
        MyBean.class,
        new Class&lt;?&gt;[] { String.class },
        0)
String value = generator.randomValue(MyValidationGroup.class);
// Method parameter
TargetedGenerator&lt;String&gt; generator = Generators.forParameter(
        MyBean.class,
        &quot;myMethod&quot;,
        new Class&lt;?&gt;[] { String.class },
        0)
String value = generator.randomValue(MyValidationGroup.class);
// Method return type
TargetedGenerator&lt;String&gt; generator = Generators.forReturnType(
        MyBean.class,
        &quot;myMethod&quot;,
        new Class&lt;?&gt;[] { String.class })
String value = generator.randomValue(MyValidationGroup.class);
</code></pre></div></section><section>
<h3><a name="Annotation_based_random_values_generation_in_JUnit_5_tests"></a>Annotation based random values generation in JUnit 5 tests</h3>
<p>The library provides a JUnit 5 extension to inject random values based in
targeted value generation system. Add the <code>@Random</code> annotation to any field,
constructor parameter, test life-cycle callback parameter, or test method
parameter.</p>
<p>See <a href="#targeted-value-generation">targeted value generation</a> and
<a href="#parameterized-values-generation">parameterized values generation</a> for
supported generation parameters extraction.</p>

<div class="source"><pre class="prettyprint"><code class="language-java">class MyTest {

    // Generated on @BeforeAll phase
    private static @Random Year staticNullableValue;
    // Generated on @BeforeAll phase
    private static @Random @NotNull Year staticNonNullValue;
    // Generated once per @BeforeEach phase
    private @Random Year instanceNullableValue;
    // Generated once per @BeforeEach phase
    private @Random @NotNull Year instanceNonNullValue;

    @BeforeAll
    static void beforeAllCallback(
            // Generated on invocation
            @Random String nullableValue,
            @Random @NotNull String nonNullValue) {
        assertNotNull(nonNullValue);
        assertNotNull(staticNonNullValue);
    }

    @AfterAll
    static void afterAllCallback(
            // Generated on invocation
            @Random String nullableValue,
            @Random @NotNull String nonNullValue) {
        assertNotNull(nonNullValue);
    }

    @BeforeEach
    void beforeEachCallback(
            // Generated on invocation
            @Random String nullableValue,
            @Random @NotNull String nonNullValue) {
        assertNotNull(nonNullValue);
        assertNotNull(instanceNonNullValue);
    }

    @AfterEach
    void afterEachCallback(
            // Generated on invocation
            @Random String nullableValue,
            @Random @NotNull String nonNullValue) {
        assertNotNull(nonNullValue);
        instanceValue = null;
    }

    RandomValueExtensionTest(
            // Generated on class instantation
            @Random String nullableValue,
            @Random @NotNull String nonNullValue) {
        assertNotNull(nonNullValue);
    }

    @Test
    void testSomething(
            // Generated once per invocation
            @Random String nullableValue,
            @Random @NotNull String nonNullValue) {
        assertNotNull(nonNullValue);
    }
}
</code></pre></div></section></section><section>
<h2><a name="Supported_out-of-the-box_types"></a>Supported out-of-the-box types</h2>
<ul>

<li>Primitives and wrapper types
<ul>

<li><code>java.lang.Boolean</code></li>
<li><code>java.lang.Byte</code></li>
<li><code>java.lang.Short</code></li>
<li><code>java.lang.Integer</code></li>
<li><code>java.lang.Long</code></li>
<li><code>java.lang.Float</code></li>
<li><code>java.lang.Double</code></li>
<li><code>java.lang.Character</code></li>
</ul>
</li>
<li>Common JRE types
<ul>

<li><code>java.lang.CharSequence</code></li>
<li><code>java.lang.Number</code></li>
<li><code>java.lang.String</code></li>
<li><code>java.io.File</code></li>
<li><code>java.math.BigInteger</code></li>
<li><code>java.math.BigDecimal</code></li>
<li><code>java.nio.charset.Charset</code></li>
<li><code>java.nio.file.Path</code></li>
<li><code>java.util.Calendar</code></li>
<li><code>java.util.Currency</code></li>
<li><code>java.util.Date</code></li>
<li><code>java.util.Locale</code></li>
<li><code>java.util.TimeZone</code></li>
<li><code>java.util.URI</code></li>
<li><code>java.util.URL</code></li>
<li><code>java.util.UUID</code></li>
<li><code>java.time.Clock</code></li>
<li><code>java.time.Duration</code></li>
<li><code>java.time.Instant</code></li>
<li><code>java.time.LocalDate</code></li>
<li><code>java.time.LocalDateTime</code></li>
<li><code>java.time.LocalTime</code></li>
<li><code>java.time.MonthDay</code></li>
<li><code>java.time.OffsetDateTime</code></li>
<li><code>java.time.OffsetTime</code></li>
<li><code>java.time.Period</code></li>
<li><code>java.time.Year</code></li>
<li><code>java.time.YearMonth</code></li>
<li><code>java.time.ZonedDateTime</code></li>
<li><code>java.time.ZoneId</code></li>
<li><code>java.time.ZoneOffset</code></li>
<li><code>java.time.chrono.Chronology</code></li>
</ul>
</li>
<li>Arrays and collections
<ul>

<li><code>java.lang.Array</code></li>
<li><code>java.util.Collection</code></li>
<li><code>java.util.List</code></li>
<li><code>java.util.Set</code></li>
<li><code>java.util.Map</code></li>
</ul>
</li>
<li>Enumerations</li>
<li>Annotated beans
<ul>

<li>Annotated constructor based bean generator</li>
<li>Annotated method based bean generator</li>
</ul>
</li>
</ul></section><section>
<h2><a name="Generic_beans_generation"></a>Generic beans generation</h2>
<p>Not every bean type requires a dedicated generator.
For simple bean types annotation based generation is supported.</p><section>
<h3><a name="Annotated_constructor_based_bean_generation"></a>Annotated constructor based bean generation</h3>
<p>Beans with a constructor annotated with <code>@GeneratorMethod</code> will be generated
out-of-the-box calling the annotated constructor with targeted random arguments:</p>

<div class="source"><pre class="prettyprint"><code class="language-java">public class MyType {
    @GeneratorMethod
    public MyType(
            Integer paramA,
            String paramB) {
        super();
        // Populate bean
    }
}
</code></pre></div></section><section>
<h3><a name="Annotated_method_based_bean_generation"></a>Annotated method based bean generation</h3>
<p>Alternatively, beans can annotate a factory method with <code>@GeneratorMethod</code> will
be generated out-of-the-box calling the annotated method with targeted random
arguments:</p>

<div class="source"><pre class="prettyprint"><code class="language-java">public class MyType {
    @GeneratorMethod
    public static @NotNull MyType factory(
            Integer paramA,
            String paramB) {
        MyType bean = new MyType();
        // Populate bean
        return bean;
    }
}
</code></pre></div></section></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2021–2023
<a href="https://github.com/orne-dev">Orne Developments</a>
</p>
        </div>
      </div>
    </footer>
<script>
  if(anchors) {
    anchors.add();
  }
</script>
  </body>
</html>